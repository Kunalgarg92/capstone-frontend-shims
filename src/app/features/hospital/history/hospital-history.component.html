<div class="card history-card">
  <div class="card-header d-flex-between">
    <h3>Recent Hospital Submissions</h3>
    <button class="btn-refresh" (click)="loadClaims()">Refresh Data ðŸ”„</button>
  </div>

  <div class="table-responsive">
    <table class="claims-table">
      <thead>
        <tr>
          <th>Claim ID</th>
          <th>Policy</th>
          <th>Patient/Treatment</th>
          <th>Cost</th>
          <th>Network</th>
          <th>Status</th>
          <th>Date Submitted</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let claim of hospitalClaims()">
          <td>
            <span class="id-badge">#{{ claim.id }}</span>
          </td>
          <td>Policy #{{ claim.policyId }}</td>
          <td>
            <div class="patient-cell">
              <span class="p-name">{{ claim.patientName || 'N/A' }}</span>
              <small class="h-name">{{ claim.hospitalName }}</small>
            </div>
          </td>
          <td>
            <strong>â‚¹{{ claim.treatmentCost | number }}</strong>
          </td>
          <td>
            <span class="network-tag" [class.in]="claim.inNetwork">
              {{ claim.inNetwork ? 'In-Network' : 'Out-of-Network' }}
            </span>
          </td>
          <td>
            <span class="status-pill" [ngClass]="getStatusClass(claim.status)">
              {{ claim.status }}
            </span>
          </td>
          <td>{{ claim.createdAt | date : 'medium' }}</td>
        </tr>

        <tr *ngIf="hospitalClaims().length === 0">
          <td colspan="7" class="empty-msg">No claims submitted by this hospital yet.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
